<style>
.jsoneditor {
	display: 'inline-block';
	color: #1a1a1a;
	border: thin solid #f4a460;
	box-sizing: border-box;
	width: 100%;
	height: 100%;
	position: relative;
	padding: 0;
	line-height: 100%;

	width: 534px;
	background-color: #fff;
}
.jsoneditor-menu {

	width: 100%;
	height: 35px;
	padding: 2px;
	margin: 0;
	box-sizing: border-box;
	color: #fff;



	border-bottom: 1px solid #3883fa;
	background-color: #f4a460;
	border-color: #f4a460;
}




.jsoneditor-navbar {
	width: 100%;
	height: 26px;
	line-height: 26px;
	padding: 0;
	margin: 0;
	box-sizing: border-box;
	color: grey;
	overflow: hidden;
	font-family: arial,sans-serif;
	font-size: 10pt;

	border-bottom: 1px solid #d3d3d3;
	background-color: #ebebeb;
}

.jsoneditor-outer {
	overflow: auto;
	position: absolute;
	top: 0px;
	left: 0px;
	right: 0px;
	bottom: 0px;
	box-sizing: border-box;
}
.jsoneditor-outer.has-main-menu-bar {
	top: 35px;
}

.jsoneditor-outer.has-main-menu-bar.has-nav-bar {
	top: 61px;
}

.jsoneditor table {
	border-collapse: collapse;
	width: auto;
}
div.jsoneditor-tree table.jsoneditor-tree {
	border-collapse: collapse;
	border-spacing: 0;
	width: 100%;
}

div.jsoneditor td,
div.jsoneditor th,
div.jsoneditor tr { padding: 0;margin: 0; }

div.jsoneditor tr:hover {background-color: #f0f0f0;}

.jsoneditor-popover,
.jsoneditor-schema-error,
div.jsoneditor td,
div.jsoneditor textarea,
div.jsoneditor th,
div.jsoneditor-field,
div.jsoneditor-value,
pre.jsoneditor-preview {
	 font-family: "dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;
	 font-size: 10pt;
	 color: #1a1a1a;
}

div.jsoneditor-default, div.jsoneditor-field, div.jsoneditor-readonly, div.jsoneditor-value {
    border: 1px solid transparent;
    min-height: 16px;
    min-width: 32px;
    padding: 2px;
    margin: 1px;
    word-wrap: break-word;
    float: left;
}

div.jsoneditor td {
	 vertical-align: top;
}

.jsoneditor td, .jsoneditor th {
	 padding: 0;
	 display: table-cell;
	 text-align: left;
	 vertical-align: inherit;
	 border-radius: inherit;
}

div.jsoneditor-tree button.jsoneditor-contextmenu {
	 background-position: -48px -72px;
}





/* buttons */
div.jsoneditor-tree button.jsoneditor-button {
	width: 24px;
	height: 24px;
	padding: 0;
	margin: 0;
	border: none;
	cursor: pointer;
	background-color: transparent;
	outline: none;

}

div.jsoneditor-tree button.jsoneditor-invisible {
	visibility: hidden;
}


div.jsoneditor-tree button.jsoneditor-expanded {
	background-color: '#4499ff';
	position: relative;
	outline: none;
}
div.jsoneditor-tree button.jsoneditor-expanded:after {
	content: ' ';
	position: absolute;
	top: 9px;
	left: 9px;
	width: 0;
	height: 0;
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	border-top: 5px solid #000;
}


div.jsoneditor-tree button.jsoneditor-collapsed {
	background-color: '#4499ff';
	position: relative;
	outline: none;
}
div.jsoneditor-tree button.jsoneditor-collapsed:after {
	content: ' ';
	position: absolute;
	top: 9px;
	left: 9px;
	width: 0;
	height: 0;
	border-top: 5px solid transparent;
	border-bottom: 5px solid transparent;
	border-left: 5px solid #000;
}





div.jsoneditor td.jsoneditor-tree {
    vertical-align: top;
}
div.jsoneditor td.jsoneditor-separator {
    padding: 3px 0;
    vertical-align: top;
    color: grey;
}

div.jsoneditor td.jsoneditor-separator {
    padding: 3px 0;
    vertical-align: top;
    color: grey;
}
div.jsoneditor td.jsoneditor-datatype {
    padding: 3px 0;
    vertical-align: top;
    color: grey;
}


.jsoneditor-contextmenu {
	 position: absolute;
	 box-sizing: content-box;
	 z-index: 99;
}



div.jsoneditor-value.jsoneditor-string {
	 color: #006000;
}
input.jsoneditor-input.jsoneditor-string {
	border: 0px;padding: 0px;margin: 0px;font-size: 14px;vertical-align: sub;outline: none;color: #006000;
}
input.jsoneditor-input.jsoneditor-string:focus {
	background-color: #bcffa0;
}

textarea.jsoneditor-input.jsoneditor-string {
	border: 0px;padding: 0px;margin: 0px;outline: none;color: #006000;

	width:100%;
	box-sizing:border-box;
	display:block;
	max-width:100%;


	font:13px Tahoma, cursive;
}
textarea.jsoneditor-input.jsoneditor-string:focus {
	background-color: #bcffa0;
}



div.jsoneditor-value.jsoneditor-number {
	 color: #ee422e;
}
input.jsoneditor-input.jsoneditor-number {
	border: 0px;padding: 0px;margin: 0px;font-size: 14px;vertical-align: sub;outline: none;color: #ee422e;
}
input.jsoneditor-input.jsoneditor-number:focus {
	background-color: #bcffa0;
}




div.jsoneditor-value.jsoneditor-boolean {
	 color: #ff8c00;
}
input.jsoneditor-input.jsoneditor-boolean {
	border: 0px;padding: 0px;margin: 0px;font-size: 14px;vertical-align: sub;outline: none;color: #ff8c00;
}
input.jsoneditor-input.jsoneditor-boolean:focus {
	background-color: #bcffa0;
}
input.jsoneditor-input.jsoneditor-boolean.error {
	background-color: red !important;
}


div.jsoneditor-value.jsoneditor-binary {
    color: #004ed0;
}
input.jsoneditor-input.jsoneditor-binary {
	border: 0px;padding: 0px;margin: 0px;font-size: 14px;vertical-align: sub;outline: none;color: #004ed0;
}
input.jsoneditor-input.jsoneditor-binary:focus {
	background-color: #bcffa0;
}


div.jsoneditor-value.jsoneditor-null {
	color: #004ed0;
}
input.jsoneditor-input.jsoneditor-null {
	border: 0px;padding: 0px;margin: 0px;font-size: 14px;vertical-align: sub;outline: none;color: #004ed0;
}
input.jsoneditor-input.jsoneditor-null:focus {
	background-color: #bcffa0;
}






/* icons and btns */
.btn-delete-attribute {display: none;}
tr:hover .btn-delete-attribute {display: inline-block;}

.trash-solid.icon { color: #aaa; position: absolute; margin-left: 5px; margin-top: 0px; width: 8px; height: 8px; border-left: solid 1px currentColor; border-right: solid 1px currentColor; border-bottom: solid 1px currentColor; border-radius: 0 0 2px 2px; background-color: currentColor; }
.trash-solid.icon:hover {color: #999;}
.trash-solid.icon:before { content: ''; position: absolute; left: -4px; top: -2px; width: 17px; height: 1px; background-color: currentColor; }
.trash-solid.icon:after { content: ''; position: absolute; left: 0px; top: -5px; width: 7px; height: 2px; border-left: solid 1px currentColor; border-right: solid 1px currentColor; border-top: solid 1px currentColor; background-color: currentColor; border-radius: 4px 4px 0 0; }




</style>

<div class="jsoneditor" style="{{style}}">
	<div class="jsoneditor-menu {{.['menu-class']}}" style="{{.['menu-style']}}">
		<select value='{{mode}}' style="height: 20px;margin: 6px;">
			<option value='tree'>Tree</option>
			<option value='code'>Code</option>
		</select>
	</div>
	{{#if ((mode === 'tree') && (navigationBar === true)) }}
		<div class="jsoneditor-navbar {{navbar-class}}" style={{.['navbar-style']}}></div>
	{{/if}}

	<div class="jsoneditor-outer has-main-menu-bar {{#if ((mode === 'tree') && (navigationBar === true)) }}has-nav-bar{{/if}}">
		{{#if mode === 'code'}}
			<textarea style="width: 100%;height: 100%;border: 0px;margin: 0px;padding: 0px;">{{ JSON.stringify(item, null, "\t") }}</textarea>
		{{else}}
		<div class="jsoneditor-tree">
			<div class="jsoneditor-tree-inner">

				<table border=0 class="jsoneditor-tree">
					<colgroup><col width="24px"><col width="24px"><col></colgroup>
					<tbody>
						<tr class=" jsoneditor-expandable">
							<td></td>
							<td><button type="button" class="jsoneditor-button jsoneditor-contextmenu"></button></td>
							<td>
								<table class="jsoneditor-values" style="border-collapse: collapse; margin-left: 0px;">
									<tbody>
										<tr>
											<td class="jsoneditor-tree"><button type="button" class="jsoneditor-button {{#if open}}jsoneditor-expanded{{else}}jsoneditor-collapsed{{/if}}" on-click='@this.toggle('open')' ></button></td>
											<td class="jsoneditor-tree">
												<div contenteditable="false" class="jsoneditor-readonly">Item</div>
											</td>
											<td class="jsoneditor-tree"></td>
											<td class="jsoneditor-tree">
												<div class="jsoneditor-value jsoneditor-object">{ {{ Object.keys(item).length }} }</div>
											</td>
										</tr>
									</tbody>
								</table>
							</td>
							<td>
							</td>
						</tr>
						{{#if open}}
						{{#each item }}
							{{#if .hasOwnProperty('S')}}
								<S key={{@key}} value={{ .S }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('N')}}
								<N key={{@key}} value={{ .N }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('BOOL')}}
								<BOOL key={{@key}} value={{ .BOOL }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('NULL')}}
								<NULL key={{@key}} level="1" level="1" />
							{{/if}}

							{{#if .hasOwnProperty('B')}}
								<B key={{@key}} value={{ .B }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('L')}}
								<L key={{@key}} value={{ .L }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('M')}}
								<M key={{@key}} value={{ .M }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('SS')}}
								<SS key={{@key}} value={{ .SS }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('NS')}}
								<NS key={{@key}} value={{ .NS }} level="1" />
							{{/if}}

							{{#if .hasOwnProperty('BS')}}
								<BS key={{@key}} value={{ .BS }} level="1" />
							{{/if}}

						{{/each}}
						{{/if}}
					</tbody>
				</table>

			</div>
		</div>
		{{/if}}


	</div>
</div>

<script>

	import Ractive from 'ractive';

	import S from './S';
	import N from './N';
	import BOOL from './BOOL';
	import NULL from './NULL';
	import B from './B';
	import SS from './SS';
	import NS from './NS';
	import BS from './BS';

	// the nested ones
	import L from './L';
	import M from './M';

	export default Ractive.extend({
		template: $TEMPLATE,
		components: {
			S: S,
			N: N,
			BOOL: BOOL,
			NULL: NULL,
			B: B,
			SS: SS,
			NS: NS,
			BS: BS,

			// the nexted ones
			L: L,
			M: M,
		},
		css: $CSS,
		data: function() {
			return {
				open: true,
				mode: 'tree', // tree | view | form | code | text | preview
				mainMenuBar: true,
				navigationBar: true,
				statusBar: true,
			}
		},
		delegate: false,
		elToFocus: null,
		delete_key: function( key ) {
			var item = this.get('item')
			delete item[key]
			this.set({item:item})
		},
		on: {

		},
	});
</script>
